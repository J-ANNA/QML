/* duba_component 2017-04-21T17:09:18+0800 */
var Xda={},Pannel=function(){function a(){$(".J_more_news").show(),setTimeout(function(){o.update(0)},20)}function b(a,b){var c=[];return c=$.map(a,function(a){for(var c=0;c<b.length;c++)if(a==b[c])return null;return a})}function c(){$(".side_wrap .side_box").css("height",""),$(".side_other").is(":visible")||$(".side_other").show().css("height","auto");var a=$(".content").height()+1,b=$("#leftHot");b.size()&&(a=a),$(".left_t").size()&&(a-=$(".left_t").outerHeight(!0));var c=$(".side_main").outerHeight(),d=a-c-12,e=$(".side_other"),f=$(".side_other ul");if(e.css("height",(d>0?d:0)+"px"),d>87&&(elOtherInner_h=d-87-(d-87)%26,f.css("height",elOtherInner_h+"px"),$.browser.msie&&"6.0"==$.browser.version&&(elOtherInner_h=d-97-(d-87)%26,f.css("height",elOtherInner_h+"px"))),e.height()>=40&&e.height()<=70&&f.hide(),e.height()<40){var g=(72-e.height(),$(".side_wrap .side_box").filter(":visible").last());g.css("height",g.height()+d+11),$(".side_other").hide()}}function d(){u=setTimeout(function(){$("#bigimg").hide(),$("#smallico").show(),$("#worldcup1").css("margin-left",-675+-s),$("#smallico").css("padding-css",-s)},t)}function e(a,b){a<$(".J_tip_ul").size()?$cookie("tipShowIndex",parseInt(a),{expires:2}):$cookie("tipCloseAll","true",{expires:2}),b.find(".ad").css({height:0,overflow:"hidden"}),b.find("i").hide();var c=b.parent();c.css({"padding-bottom":"0px"}),c.index()%2==0?c.next().css({"padding-bottom":"0px"}):c.prev().css({"padding-bottom":"0px"}),$(".side_nav").children().children().animate({"margin-bottom":"6px"},600),setTimeout(function(){__leftheight()},1e3)}function f(a){if(!isNaN(a)){var b=$('.J_tip_ul:[num="'+a+'"]');b.find("i").show(),b.find(".ad").animate({height:"23px"},600),$(".side_nav").children().children().css("height","30px");var c=b.parent(),d=0==b.prev("a").index()?1:2;c.css("z-index",2).animate({"padding-bottom":"30px"},600),c.index()%2==0?(c.next().animate({"padding-bottom":"30px"},600),b.find("i").css("left",60*d-10+"px"),b.css("left","-7px")):(c.prev().animate({"padding-bottom":"30px"},600),b.find("i").css("right",130-50*d+"px"),b.css("right","-6px")),setTimeout(function(){$.trace(b.find("a").attr("cid"),!0),__leftheight()},1e3),setTimeout(function(){var a=b.find(".tip"),c=b.find(".scroll");c.children().size()>1&&$.adup(a,4e3,22,a.children().size()-1)},2e3)}}function g(){var a=1;"true"!=$cookie("tipCloseAll")&&($cookie("tipShowIndex")?a=parseInt($cookie("tipShowIndex"))+1:f(a),a<=$(".J_tip_ul").size()&&($cookie("tipShowIndex",a,{expires:2}),setTimeout(function(){f(a)},1e3)))}function h(){var a=$("#hcp"),b=$("#hcp").attr("w"),c="http://www.tieyou.com/route.php?income=daigou&";today=(new Date).getTime(),curTime=new Date(today+86400),y=curTime.getFullYear(),m=curTime.getMonth()+1,r=curTime.getDate();var d={times:y+"-"+m+"-"+r,selType:1,hcTime:y+"-"+m+"-"+r,hcsta:"king1"};a.click(function(){window.open(c+"from="+$("#hc-cf").val()+"&to="+$("#hc-dd").val()+"&utm_source="+d.hcsta+"&date="+d.hcTime),__tj(1031100,1163,27415137,b,"","","","index")})}Pannel.ajaxCallback={add:function(a){this.listEvey.push(a)},listEvey:[],eachFix:function(a){if(this.listEvey.length)for(var b=0;b<this.listEvey.length;b++)this.listEvey[b](a)}},Pannel.ajaxCallback.add(function(a){if(a.parent(".side_taobao").size()){var b=$cookie("__kt"),c=+new Date/1e3,d=[];if(b=b?Number(b):0,180>c-b||!b){this.newUser||(this.newUser=!0,$.trace(4579952,!0));a.find(".img").filter(function(){return $(this).hasClass("dn")?!0:(d.push($(this)),!1)}).each(function(a){$(this).removeClass("dn")});$.each(d,function(a,b){b.hide()})}}}),Pannel.taobao=function(a){function b(){for(var b=a.find(".img"),c=0;2>c;c++){var d=e+"_"+c+"_";CacheDB.each(d,function(a,c){var f=+new Date,g=a.replace(d,"").replace("_T_","");f<Number(c)?b.each(function(){$(this).attr("md")==g&&$(this).hide()}):CacheDB.remove(e,a)})}}function c(){for(var b=a.find(".img"),c=function(a,c){var d=a.replace(c,"").replace("_T_","");a=a.replace(c,"");var e=[],f=!1;return b.each(function(){var a=$(this).attr("md");d==a&&(f=!0)}),f||e.push(a),e},d=0;2>d;d++){var f=e+"_"+d+"_";CacheDB.each(f,function(a,b){var d=c(a,f);if(d.length)for(var e=0;e<d.length;e++)CacheDB.remove(f,d[e])})}}if(a.parent(".side_taobao").size()){var d=a.parent().find(".tab_con").index(a),e="TAOBAO"+d;a.find(".img").click(function(){var a=$(this).siblings(".img"),b=$(this).parent(),c=$(this).parents(".tab_con").find(".over_hidden").index(b);if(c="_"+c+"_",console.log(c),console.log(a.length+1-CacheDB.length(e+c)),a.length+1-CacheDB.length(e+c)>1){console.log($(this).attr("md"));var d=$(this).attr("md"),f=Number(+new Date)+864e5;d="_T_"+d;try{CacheDB.set(e+c,d,f)}catch(g){}$(this).hide()}}),c(),b()}};var i=[],j=[""],k=[],l=[],n=window.DUBA||{},i=["2","4","3","11","12"],k=b(i,j);window.__l=i;var o,p=!1,q={activcall:function(b){function c(){if(this.parent().hasClass("side_news")&&!this.attr("sj")){this.attr("sj","1");var a,b=this.find(".img"),c=[];b.each(function(a,b){c.push(b)}),c.sort(function(a,b){return Math.random()>.5?-1:1}),a=document.createDocumentFragment();for(var d=0;d<c.length;d++)a.appendChild(c[d]);this.find(".slide_con").append(a)}}$(".J_more_news").show();var d=this;0==b.index()&&c.call(d),$.imgload.call(d);var e=b.parent().parent().attr("pi"),f=this.parent().attr("ajax");if(4==e&&(f=$(".side_news").attr("ajax")),f)if(0==b.index()&&(d.css("height","auto"),4==e&&o&&a()),b&&!b.attr("ajaxlond")&&0!=b.index()){var g=b.index(),h=n.isHttps?"https":"http";"loding"!=b.attr("ajaxlond")?q.dataLoad(b,d,e,g,h):4==e&&a(),"loding"==b.attr("ajaxlond")}else 4==e&&o&&a();4==e&&(o||(o=tScroll("#newsScroll",{lockScroll:!1,callback:function(a){a.scroll>0&&($(".tscroll-track").css("background-image","none"),p||(__tj(1031100,1365,29087192,"ksrkxw"),p=!0))}}),$("#newsScroll").hover(function(){$(".tscroll-bar").hasClass("tscroll-hide")?$(this).find("em.next").css("right","2px"):($(".tscroll-bar").show(),$(this).find("em.next").css("right","14px"))},function(){$(".tscroll-bar").hide()})))},discall:function(){},localFix:function(a){var b=$("#side_box_4 .tab_con ul a");CacheDB.each(a,function(c,d){var e=+new Date,c=c.replace(a,"").replace("__http__","http://").replace("__H__","/");e<Number(d)&&b.each(function(){$(this).attr("href")==c&&$(this).parents("li").hide()})})},clearFix:function(a){var b=$("#side_box_4 .tab_con ul a"),c=function(c){var d=c.replace(a,"").replace("__http__","http://").replace("__H__","/");c=c.replace(a,"");var e=[],f=!1;return b.each(function(){var a=$(this).attr("href");d==a&&(f=!0)}),f||e.push(c),e};CacheDB.each(a,function(b,d){var e=c(b);if(e.length)for(var f=0;f<e.length;f++)CacheDB.remove(a,e[f])})},dataLoad:function(b,c,d,e,f){$.ajax({url:"/main3_pannel.html",data:{pi:d,index:e,type:f,_:n.curr_ver,ajax:n.ajaxV},dataType:"json",success:function(f){if(1==f.state&&(b.attr("ajaxlond",1),c.html(f.cont).css("height","auto"),4==d&&o&&a(),c.find("img").each(function(){var a=new Image,b=$(this);a.onload=a.onerror=function(){b.attr("src",a.src),a=a.onload=a.error=null},a.src=b.attr("data-original")}),c.parent().hasClass("side_news")&&randomImg.call(c),c.find(".slide_view").ImagesView({list:".img"}),q.clearFix("HREF"+e),q.localFix("HREF"+e),1==d)){var g="";switch(e){case 1:g="电视剧";break;case 2:g="电影";break;case 3:g="娱乐";break;case 4:g="游戏"}__tj({snode:1365,md5:g,w:"newys"})}},error:function(){b.attr("ajaxlond",0)}})}};n.isHttps?{panl:k.join("-"),_:n.curr_ver,type:"https",ajax:n.ajaxV}:{panl:k.join("-"),_:n.curr_ver,ajax:n.ajaxV};if($(".J_tip_ul").on("click",".tip a",function(a){try{var b=$(a.target).parents(".J_tip_ul"),c=b.attr("num");e(c,b)}catch(a){console.log(a)}}),$(".J_closedTip").click(function(a){var b=$(a.target).parents(".J_tip_ul"),c=b.attr("num"),d=b.find("a").attr("cid");e(c,b),setTimeout(function(){$.trace(d,"","",!0)},500)}).hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")}),window.left_side_alias="",$(".side_wrap > div").each(function(a){0!=a&&(left_side_alias+="_"),left_side_alias+=$(this).attr("alias")?$(this).attr("alias"):""}),window.dubaXhr=function(){$(".side_game,.side_news,.side_video,.side_award, .side_vtools,.side_jiaoyu, .side_live,.side_taobao").tabView({activcall:q.activcall,discall:q.discall,auto:!0,delay:15e3,ajax:!0,hoverswitch:!0,hoverCallback:function(a){if(1!=a.attr("haveTj")){var b=a.attr("cid"),c=a.text();if(b){var d={node:1031100,snode:1365,cid:b,w:"tab",md5:c,expand:left_side_alias};__tj(d),a.attr("haveTj","1")}}}});var a=$("#inquire,.qd-text,.zd-text");$(".search_button");a.focus(function(){$(this).val()==this.defaultValue&&$(this).val("")}),a.blur(function(){""==$(this).val()&&$(this).val(this.defaultValue)}),h(),setTimeout(function(){l=$(".slide_view").ImagesView({list:".img"}),c()},10),q.clearFix("HREF0"),q.localFix("HREF0")}(),window._dubauuid="",Xda={state:1,idx:1,xdafun:function(a){1==a.state&&($(".side_taobao .tab_con").eq(Xda.idx-1).html(a.cont).css("height","auto"),1==Xda.idx&&(1==Xda.state&&($(".side_taobao .side_tab").remove(),$(".side_taobao").prepend(a.nav),$(".side_taobao").tabView({activcall:q.activcall,discall:q.discall,auto:!0,delay:15e3,ajax:!0})),setTimeout(function(){var a=$(".side_taobao .js_tab").children().eq(0),b=a.attr("xda"),c=a.attr("w"),d=a.attr("cid"),e=a.text();__tj(1031100,1365,d,c,e,"","","","","",b)},200),Xda.state=1))},getGuess:function(a){Xda.idx=a.index;var b=window.location.protocol+"//xda.duba.com/xda/gouwu?uuid="+a.uuid+"&wide=1&callback=Xda.xdafun&index="+a.index+"&t="+(new Date).getTime();$.ajax({type:"GET",cache:!1,url:b,timeout:2e3,dataType:"jsonp",error:function(a){"timeout"==a.statusText&&(Xda.state=0,setTimeout(function(){$(".side_taobao").tabView({activcall:q.activcall,discall:q.discall,auto:!0,delay:15e3,ajax:!0})},400))}})}},$(".detail_video").tabView({curClass:"current",slide_tab:".video_tab",activcall:q.activcall,discall:q.discall,auto:!0,ajax:!0,delay:5e3}),window.__leftheight=c,$(window).width()>1250){$cookie("worldcup1")&&($("#bigimg").hide(),$("#smallico").show());var s=($(window).width()-1e3)/2-175;setTimeout(function(){$.trace(111275,!0,"","","","","","index")},1e3),$("#worldClosed1").click(function(a){a.stopPropagation(),a.preventDefault(),$("#bigimg").hide(),$("#smallico").show(),$cookie("worldcup1",1,{expires:1}),$.trace(111274,"","","","","","","index")}),$("#smallico").click(function(){$(this).hide(),$("#bigimg").show(),$(window).width()<1350&&$("#worldcup1").css("margin-left",-675+-s),$(this).attr("c",1),$.trace(111276,"","","","","","","index")});var t=5e3,u=null;$(window).width()<1339&&($cookie("worldcup1")||($("#worldcup1").css("margin-left",-675+-s),$("#smallico").css("padding-css",-s)),$cookie("worldcup1")&&(t=100),d(),$("#worldcup1").hover(function(){clearTimeout(u)},function(){$("#smallico").attr("c")||d()})),$("#worldcup1").show(),$("#worldcup1 .list li:nth-child(odd)").css("background","#F6F5FB")}else $("#worldcup1").hide();g()};!function(){function a(a,c,d){var e,f,g=[],h=0;if(1===a.nodeType)return a;if(f=q.exec(a)){if(e=f[1])return s.getElementById(e);if(c=c||s,e=f[2])g=c.getElementsByTagName(e);else if(e=f[3])if(!d&&c.getElementsByClassName)g=c.getElementsByClassName(e);else for(d=d||c.getElementsByTagName("*");h<d.length;h++)if(1===d[h].nodeType&&b(d[h],e)){g.push(d[h]);break}}return g[0]||null}function b(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")>=0}function c(a,c){b(a,c)||(a.className=f(a.className+" "+c+" "))}function d(a,b){a.className=f((" "+a.className+" ").replace(" "+b+" "," "))}function e(a,b,c){a.style[b]=c+"px"}function f(a){return(a||"").replace(r,"")}function g(a,b,c){window.addEventListener?a.addEventListener(b,c,!1):s.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c}function h(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):s.detachEvent?a.detachEvent("on"+b,c):a["on"+b]=null}function i(a){return"undefined"==typeof a.pageX&&(a.pageX=a.clientX+(a&&a.scrollLeft||s.body.scrollLeft||0),a.pageY=a.clientY+(a&&a.scrollTop||s.body.scrollTop||0)),a.preventDefault=a.preventDefault||function(){window.event.returnValue=!1},a}function j(){return+new Date+Math.random().toString().substr(2,4)}function k(){return!1}function l(a,b){for(;b[0];)a.appendChild(b[0])}function m(b,f){function j(){p?v.elem.ontouchstart=function(a){1===a.touches.length&&(m(a.touches[0]),a.stopPropagation())}:g(z.elem,"mousedown",m),I.scroll&&(window.addEventListener?(b.addEventListener("mousewheel",l,!1),b.addEventListener("DOMMouseScroll",l,!1),b.addEventListener("MozMousePixelScroll",function(a){a.preventDefault()},!1)):b.onmousewheel=l)}function l(a){if(w.ratio<1){var a=i(a||window.event),b=a.wheelDelta?a.wheelDelta/120:-(a.detail||0)/3;A-=b*I.wheel,u.moveTo(A),A!==w.slideSize&&(H=0),I.lockScroll||A!==w.slideSize||4>H&&(++H,a.preventDefault()),(I.lockScroll||A!==w.slideSize&&0!==A)&&a.preventDefault()}}function m(a){c(o,"tscroll-unselect"),I.onSelect&&(o.onselectstart=k);var a=i(a||window.event),b=parseInt(z.elem.style[E]);C.start=D?a.pageX:a.pageY,B.start=isNaN(b)?0:b,p?(s.ontouchmove=function(a){a.preventDefault(),n(a.touches[0])},s.ontouchend=q):(g(s,"mousemove",n),g(s,"mouseup",q),g(z.elem,"mouseup",q))}function n(a){if(w.ratio<1){var a=i(a||window.event);C.now=D?a.pageX:a.pageY,I.invertscroll&&p?B.now=Math.min(y.slideSize,Math.max(0,B.start+(C.start-C.now))):B.now=Math.min(y.slideSize,Math.max(0,B.start+(C.now-C.start))),A=B.now/y.ratio,u.moveTo(A)}var b=window.navigator.userAgent.toLowerCase();!/msie/.test(b)||document.documentMode>=9||a.button||q.call(this,a)}function q(){d(o,"tscroll-unselect"),I.onSelect&&(o.onselectstart=null),p?s.ontouchmove=s.ontouchend=null:(h(s,"mousemove",n),h(s,"mouseup",q),h(z.elem,"mouseup",q))}function r(a){var b=(0==a?I.wheel:-I.wheel)/1.2;A+=b,A>=0&&A<=w.slideSize&&(A=a),u.moveTo(A)}function t(){u.setting(f),j(),u.update()}var u=this,v={elem:a(".tscroll-view",null,b.childNodes)},w={elem:a(".tscroll-pane",null,v.elem.childNodes)},x={elem:a(".tscroll-bar",null,b.childNodes)},y={elem:a(".tscroll-track",x.elem)},z={elem:a(".tscroll-thumb",x.elem)},A=0,B={start:0,now:0},C={start:0,now:0},D=!1,E="top",F="Height",G=null,H=0,I={scroll:!0,wheel:40,axis:"y",trackSize:"auto",thumbSize:"auto",thumbMinSize:10,lockScroll:!0,invertScroll:!1,onSelect:!0,bounce:!1,callback:k};return this.scroll=A,this.direction=E,this.wheel=l,this.setting=function(a){var b;if("object"==typeof a){for(b in I)"undefined"!=typeof a[b]&&(I[b]=a[b]);D="x"===I.axis,F=D?"Width":"Height",E=D?"left":"top",u.direction=E,u.wheel=I.wheel}return u},this.update=function(a){var b=F.toLowerCase(),f=parseFloat(z.elem.style[E]);return v.size=v.elem["offset"+F],w.size=w.elem["scroll"+F],w.slideSize=Math.max(w.size-v.size,0),w.ratio=0==w.size?1:parseFloat(v.size)/w.size,w.ratio>=1?c(x.elem,"tscroll-hide"):d(x.elem,"tscroll-hide"),y.size="auto"===I.trackSize?v.size:I.trackSize,z.size="auto"===I.thumbSize?Math.max(y.size*w.ratio,I.thumbMinSize):I.thumbSize,y.slideSize=y.size-z.size,y.ratio=0==w.slideSize?1:parseFloat(y.slideSize)/w.slideSize,e(x.elem,b,y.size),e(y.elem,b,y.size),e(z.elem,b,z.size),"undefined"!=typeof a&&(A="bottom"===a?w.slideSize:parseInt(a)),u.moveTo(A),B.start+=parseFloat(z.elem.style[E])-f,u},this.moveTo=function(a){var b,c;return A=Math.min(w.slideSize,Math.max(0,a)),b=A,I.bounce&&(0>a||a>w.slideSize)&&(c=A,clearTimeout(G),A=a,G=setTimeout(function(){r(c)},13)),e(z.elem,E,b*y.ratio),e(w.elem,E,-A),u.scroll=A,I.callback(u),u},t(),this}function n(b,d){var e=n,f=a(b),g=j();if(null==o&&(o=a("body")),null==p&&(p="undefined"!=typeof s.documentElement.ontouchstart),null!=f){var h=f.getAttribute("data-tscroll");if(h&&e.list[h])return e.list[h].update(0);c(f,"tscroll"),f.setAttribute("data-tscroll",g);var i=s.createDocumentFragment(),k=s.createElement("div");return k.innerHTML=t.join("").replace("{{content}}",""),l(i,k.childNodes),l(i.firstChild.firstChild,f.childNodes),f.appendChild(i),k=i=null,e.list[g]=new m(f,d)}return!1}var o,p,q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,r=/(^\s+)|(\s+$)/g,s=document,t=['<div class="tscroll-view">','<div class="tscroll-pane">',"{{content}}","</div>","</div>",'<div class="tscroll-bar tscroll-hide">','<div class="tscroll-track">','<div class="tscroll-thumb">','<div class="tscroll-thumb-end">',"</div>","</div>","</div>","</div>"];n.list={},window.tScroll=n,"function"==typeof define&&(define.amd?define("tScroll",[],function(){return n}):define.cmd&&define(function(a,b,c){return n}))}();